import{j as e,r as c}from"./index-V9zk8WMY.js";const p=({label:a,options:n,selected:t,onChange:o,multiple:i=!0})=>{const[l,s]=c.useState(!1),m=c.useRef(null);c.useEffect(()=>{const r=u=>{m.current&&!m.current.contains(u.target)&&s(!1)};return document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r)},[]);const x=r=>{let u;i?u=t.includes(r)?t.filter(d=>d!==r):[...t,r]:(u=[r],s(!1)),o(u)};return e.jsxs("div",{className:"filter-dropdown",ref:m,children:[e.jsxs("button",{className:"dropdown-btn",onClick:()=>s(!l),children:[a," ",e.jsx("img",{src:"/arrow.png",alt:"v",className:`arrow-icon ${l?"rotated":""}`})]}),l&&e.jsx("div",{className:"dropdown-content",children:n.map(r=>e.jsxs("label",{className:"dropdown-item",children:[e.jsx("input",{type:"checkbox",checked:t.includes(r),onChange:()=>x(r)}),r]},r))})]})},h=({selected:a,onChange:n})=>{const[t,o]=c.useState(!1),i=c.useRef(null),[l,s]=c.useState(a.start||""),[m,x]=c.useState(a.end||"");c.useEffect(()=>{const d=g=>{i.current&&!i.current.contains(g.target)&&o(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]);const r=()=>{n({start:l,end:m}),o(!1)},u=()=>{s(""),x(""),n({start:"",end:""}),o(!1)};return e.jsxs("div",{className:"filter-dropdown",ref:i,children:[e.jsxs("button",{className:"dropdown-btn",onClick:()=>o(!t),children:["Date ",e.jsx("img",{src:"/arrow.png",alt:"v",className:`arrow-icon ${t?"rotated":""}`})]}),t&&e.jsx("div",{className:"dropdown-content",style:{padding:"1rem",width:"250px"},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[e.jsx("label",{style:{fontSize:"0.85rem",color:"#64748b"},children:"Start Date"}),e.jsx("input",{type:"date",value:l,onChange:d=>s(d.target.value),style:{padding:"0.25rem",borderRadius:"4px",border:"1px solid #e2e8f0",width:"100%"}}),e.jsx("label",{style:{fontSize:"0.85rem",color:"#64748b"},children:"End Date"}),e.jsx("input",{type:"date",value:m,onChange:d=>x(d.target.value),style:{padding:"0.25rem",borderRadius:"4px",border:"1px solid #e2e8f0",width:"100%"}}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:[e.jsx("button",{onClick:r,style:{flex:1,padding:"0.5rem",backgroundColor:"#1e293b",color:"white",border:"none",borderRadius:"4px",fontSize:"0.85rem",cursor:"pointer"},children:"Apply"}),e.jsx("button",{onClick:u,style:{flex:1,padding:"0.5rem",backgroundColor:"#f1f5f9",color:"#64748b",border:"none",borderRadius:"4px",fontSize:"0.85rem",cursor:"pointer"},children:"Clear"})]})]})})]})},j=({options:a,selectedFilters:n,onFilterChange:t,onSortChange:o,sortConfig:i,onRefresh:l})=>e.jsxs("div",{className:"filter-bar",children:[e.jsxs("div",{className:"filter-group-horizontal",children:[e.jsx("button",{className:"refresh-btn",onClick:l,children:e.jsx("img",{src:"/refresh_button.png",alt:"Refresh"})}),e.jsx(p,{label:"Customer Region",options:a.regions,selected:n.region,onChange:s=>t("region",s)}),e.jsx(p,{label:"Gender",options:a.genders,selected:n.gender,onChange:s=>t("gender",s)}),e.jsx(p,{label:"Age Range",options:["0-18","19-25","26-35","36-45","46-60","60+"],selected:n.age_range,onChange:s=>t("age_range",s),multiple:!1}),e.jsx(p,{label:"Product Category",options:a.categories,selected:n.category,onChange:s=>t("category",s)}),e.jsx(p,{label:"Tags",options:a.tags,selected:n.tags,onChange:s=>t("tags",s)}),e.jsx(p,{label:"Payment Method",options:a.payment_methods,selected:n.payment_method,onChange:s=>t("payment_method",s)}),e.jsx(h,{selected:n.date_range,onChange:s=>t("date_range",s)})]}),e.jsx("div",{className:"sort-group",children:e.jsxs("div",{className:"sort-select-wrapper",children:[e.jsx("span",{className:"sort-prefix",children:"Sort by:"}),e.jsxs("select",{className:"sort-select",value:i.sort_by,onChange:s=>o(s.target.value),children:[e.jsx("option",{value:"Date",children:"Date"}),e.jsx("option",{value:"Customer Name",children:"Customer Name (A-Z)"}),e.jsx("option",{value:"Total Amount",children:"Total Amount"}),e.jsx("option",{value:"Quantity",children:"Quantity"})]}),e.jsx("img",{src:"/arrow.png",alt:"v",className:"arrow-icon sort-arrow"})]})})]});export{j as default};
